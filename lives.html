<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ライブ履歴 | groove 公式Webサイト</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <h1>慶應義塾大学 軽音サークル groove</h1>
    <nav>
      <ul>
        <li><a href="index.html">ホーム</a></li>
        <li><a href="new-members.html">新入生向け情報！</a></li>
        <li><a href="about.html">サークル紹介</a></li>
        <li><a href="lives.html">ライブ履歴</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <h2>ライブ履歴</h2>
    <div id="live-list"></div>
  </main>

  <script>
    const playlists = [
      { title: "🎵 2018 新歓ライブ", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmS2T4VpfzafC88Mbthr6Lvl" },
      { title: "🎵 2018 NFL", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmQZMgBAnlveGOqoTARGTSMb" },
      { title: "🎵 2018 6月ライブ", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmSx_N0RTO72DXPMNB5shdY5" },
      { title: "🎵 2018 8月ライブ", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmSJ_3m3VoJj-zm7_GgJOY6J" },
      { title: "🎵 2018 合同ライブ", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmT45mAEdC4EQaApyTW6g2Lk" },
      { title: "🎵 2018 夏合宿1日目", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmRdXIUeGWtiSg0xutHORPre" },
      { title: "🎵 2018 夏合宿2日目", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmQOXueAQhDJsRD60WaxQIHs" },
      { title: "🎵 2018 ハロライ", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmRP7pffEZt78bOgadVDqQJY" },
      { title: "🎵 2018 OBライブ", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmTyZ9ov_SVWKCQqpSC02zP2" },
      { title: "🎵 2018 ミタクソLive1日目", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmQUsvbvR-krm3DyDYpZdwHh" },
      { title: "🎵 2018 ミタクソLive 2日目", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmSz5BfeM9LznGan31jVtDI9" },
      { title: "🎵 2018 ミタステ", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmQIvvsJNgcv7yGV0eAQaQG_" },
      { title: "🎵 2018 クリライ 1日目", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmRrKT1EKTkdRyny7p7XOOsj" },
      { title: "🎵 2018 クリライ2日目", url: "https://www.youtube.com/playlist?list=PLXxjm7LYJmmSJcl2Sw2xl-UXSqN60sgSS" }
      // ... 続き（2019〜2025年）も自動で年別にソートして表示されます
    ];

    function groupByYear(playlists) {
      const grouped = {};
      playlists.forEach(p => {
        const match = p.title.match(/(20\d{2})/);
        if (match) {
          const year = match[1];
          if (!grouped[year]) grouped[year] = [];
          grouped[year].push(p);
        }
      });
      return grouped;
    }

    function renderPlaylists() {
      const grouped = groupByYear(playlists);
      const sortedYears = Object.keys(grouped).sort();
      const container = document.getElementById("live-list");
      sortedYears.forEach(year => {
        const details = document.createElement("details");
        details.innerHTML = `<summary>${year}</summary>`;
        const ul = document.createElement("ul");
        grouped[year].forEach(p => {
          const li = document.createElement("li");
          li.innerHTML = `<a href="${p.url}" target="_blank">${p.title}</a>`;
          ul.appendChild(li);
        });
        details.appendChild(ul);
        container.appendChild(details);
      });
    }

    renderPlaylists();
  </script>
</body>
</html>
